<!DOCTYPE html>
<html>
    <head>
        <!--[if lte IE 9]>
        <script type="text/javascript">
            window.location = "/browser-compatibility";
        </script>
        <![endif]-->
        <title>Problem: Message Relay</title>
        <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">

<link rel="apple-touch-icon" sizes="57x57" href="../assets/img/icons/apple/apple-touch-icon-57x57.png?v=gAAmLMYXpw">
<link rel="apple-touch-icon" sizes="60x60" href="../assets/img/icons/apple/apple-touch-icon-60x60.png?v=gAAmLMYXpw">
<link rel="apple-touch-icon" sizes="72x72" href="../assets/img/icons/apple/apple-touch-icon-72x72.png?v=gAAmLMYXpw">
<link rel="apple-touch-icon" sizes="76x76" href="../assets/img/icons/apple/apple-touch-icon-76x76.png?v=gAAmLMYXpw">
<link rel="apple-touch-icon" sizes="114x114" href="../assets/img/icons/apple/apple-touch-icon-114x114.png?v=gAAmLMYXpw">
<link rel="apple-touch-icon" sizes="120x120" href="../assets/img/icons/apple/apple-touch-icon-120x120.png?v=gAAmLMYXpw">
<link rel="apple-touch-icon" sizes="144x144" href="../assets/img/icons/apple/apple-touch-icon-144x144.png?v=gAAmLMYXpw">
<link rel="apple-touch-icon" sizes="152x152" href="../assets/img/icons/apple/apple-touch-icon-152x152.png?v=gAAmLMYXpw">
<link rel="apple-touch-icon" sizes="180x180" href="../assets/img/icons/apple/apple-touch-icon-180x180.png?v=gAAmLMYXpw">
<link rel="icon" type="image/png" href="../assets/img/icons/favicon/favicon-32x32.png?v=gAAmLMYXpw" sizes="32x32">
<link rel="icon" type="image/png" href="../assets/img/icons/favicon/favicon-194x194.png?v=gAAmLMYXpw" sizes="194x194">
<link rel="icon" type="image/png" href="../assets/img/icons/favicon/favicon-96x96.png?v=gAAmLMYXpw" sizes="96x96">
<link rel="icon" type="image/png" href="../assets/img/icons/android/android-chrome-192x192.png?v=gAAmLMYXpw" sizes="192x192">
<link rel="icon" type="image/png" href="../assets/img/icons/favicon/favicon-16x16.png?v=gAAmLMYXpw" sizes="16x16">
<link rel="manifest" href="../assets/img/icons/android/manifest.json?v=gAAmLMYXpw">
<link rel="mask-icon" href="../assets/img/icons/safari/safari-pinned-tab.svg?v=gAAmLMYXpw" color="#56817a">
<link rel="shortcut icon" href="../assets/img/icons/favicon/favicon.ico?v=gAAmLMYXpw">
<meta name="msapplication-TileColor" content="#56817a">
<meta name="msapplication-TileImage" content="/assets/img/icons/microsoft/mstile-144x144.png?v=gAAmLMYXpw">
<meta name="msapplication-config" content="/assets/img/icons/microsoft/browserconfig.xml?v=gAAmLMYXpw">
<meta name="theme-color" content="#56817a">
        <link rel="stylesheet" type="text/css" href="../assets/css/caffeine-theme.css?v=275669c239" />
        <style>
@font-face{font-family:Raleway;font-weight:400;font-style:normal;src:local('Raleway'),local('Raleway-regular'),url(https://fonts.gstatic.com/s/raleway/v10/QAUlVt1jXOgQavlW5wEfxQLUuEpTyoUstqEm5AMlJo4.woff2) format('woff2'),url(https://fonts.gstatic.com/s/raleway/v10/cIFypx4yrWPDz3zOxk7hIQLUuEpTyoUstqEm5AMlJo4.woff) format('woff'),url(https://fonts.gstatic.com/s/raleway/v10/bIcY3_3JNqUVRAQQRNVteQ.ttf) format('truetype'),url(https://fonts.gstatic.com/l/font?kit=IP_NSg73bUZGuyb3zF6qcQ&skey=30a27f2564731c64&v=v10#Raleway) format('svg')}@font-face{font-family:Raleway;font-weight:700;font-style:normal;src:local('Raleway Bold'),local('Raleway-700'),url(https://fonts.gstatic.com/s/raleway/v10/JbtMzqLaYbbbCL9X6EvaIwzyDMXhdD8sAj6OAJTFsBI.woff2) format('woff2'),url(https://fonts.gstatic.com/s/raleway/v10/JbtMzqLaYbbbCL9X6EvaI73hpw3pgy2gAi-Ip7WPMi0.woff) format('woff'),url(https://fonts.gstatic.com/s/raleway/v10/JbtMzqLaYbbbCL9X6EvaIy3USBnSvpkopQaUR-2r7iU.ttf) format('truetype'),url(https://fonts.gstatic.com/l/font?kit=JbtMzqLaYbbbCL9X6EvaI6WUboTb-jS2tyCOQMtm97g&skey=e507c3e2b7915ad1&v=v10#Raleway) format('svg')}@font-face{font-family:'Roboto Slab';font-weight:300;font-style:normal;src:local('Roboto Slab Light'),local('Roboto-Slab-300'),url(https://fonts.gstatic.com/s/robotoslab/v6/dazS1PrQQuCxC3iOAJFEJdTIkQYohD4BpHvJ3NvbHoA.woff2) format('woff2'),url(https://fonts.gstatic.com/s/robotoslab/v6/dazS1PrQQuCxC3iOAJFEJfR_54zmj3SbGZQh3vCOwvY.woff) format('woff'),url(https://fonts.gstatic.com/s/robotoslab/v6/dazS1PrQQuCxC3iOAJFEJbfB31yxOzP-czbf6AAKCVo.ttf) format('truetype'),url(https://fonts.gstatic.com/l/font?kit=dazS1PrQQuCxC3iOAJFEJT4dnM32POWavC8T_whbZeI&skey=5b48fccf0dc70db6&v=v6#RobotoSlab) format('svg')}@font-face{font-family:'Roboto Slab';font-weight:400;font-style:normal;src:local('Roboto Slab Regular'),local('Roboto-Slab-regular'),url(https://fonts.gstatic.com/s/robotoslab/v6/y7lebkjgREBJK96VQi37Zogp9Q8gbYrhqGlRav_IXfk.woff2) format('woff2'),url(https://fonts.gstatic.com/s/robotoslab/v6/y7lebkjgREBJK96VQi37ZrrIa-7acMAeDBVuclsi6Gc.woff) format('woff'),url(https://fonts.gstatic.com/s/robotoslab/v6/y7lebkjgREBJK96VQi37Zp0EAVxt0G0biEntp43Qt6E.ttf) format('truetype'),url(https://fonts.gstatic.com/l/font?kit=y7lebkjgREBJK96VQi37ZnNsigHlcrQGNV8nkUSFQfc&skey=a9ad6a4717e923f0&v=v6#RobotoSlab) format('svg')}
</style>        <link rel="canonical" href="index.html" />
    <meta name="referrer" content="no-referrer-when-downgrade" />
    <link rel="amphtml" href="amp/index.html" />
    
    <meta property="og:site_name" content="Brendan&#x27;s Blog" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Problem: Message Relay" />
    <meta property="og:description" content="DECEMBER 25, 2014 Introduction This is the one time that I will add an introduction as it is the first time I am doing this.  To help myself improve, I will be solving more USACO problems in hopes that I become good enough to start advancing. This blog will hopefully" />
    <meta property="og:url" content="http://localhost:2368/problem-message-relay/" />
    <meta property="article:published_time" content="2016-06-03T00:41:28.000Z" />
    <meta property="article:modified_time" content="2016-06-03T00:41:28.000Z" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Problem: Message Relay" />
    <meta name="twitter:description" content="DECEMBER 25, 2014 Introduction This is the one time that I will add an introduction as it is the first time I am doing this.  To help myself improve, I will be solving more USACO problems in hopes that I become good enough to start advancing. This blog will hopefully" />
    <meta name="twitter:url" content="http://localhost:2368/problem-message-relay/" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="Brendan Horng" />
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Brendan&#x27;s Blog",
        "logo": "http://localhost:2368/content/images/2016/12/logoV3.png"
    },
    "author": {
        "@type": "Person",
        "name": "Brendan Horng",
        "url": "http://localhost:2368/author/brendan/",
        "sameAs": []
    },
    "headline": "Problem: Message Relay",
    "url": "http://localhost:2368/problem-message-relay/",
    "datePublished": "2016-06-03T00:41:28.000Z",
    "dateModified": "2016-06-03T00:41:28.000Z",
    "description": "DECEMBER 25, 2014 Introduction This is the one time that I will add an introduction as it is the first time I am doing this.  To help myself improve, I will be solving more USACO problems in hopes that I become good enough to start advancing. This blog will hopefully",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:2368"
    }
}
    </script>

    <meta name="generator" content="Ghost 0.11" />
    <link rel="alternate" type="application/rss+xml" title="Brendan&#x27;s Blog" href="../rss/index.html" />
    <script>
var disqus_shortname = 'ludusamo';
</script>
        <script type="text/javascript">
try{var storage=window.sessionStorage;storage&&"1"==storage.getItem("fonts-loaded")&&(window.document.documentElement.className+=" fonts-loaded")}catch(e){}
</script>    </head>
    <body class="post-template">
        <header id="default-nav-header" class="nav-header nav-header-fixed animated">
    <a id="home-button" href="../index.html">
        <img src="../assets/img/icons/icon.png?v=275669c239" alt="Brendan&#x27;s Blog icon" class="icon rounded hvr-buzz-out" />
      </a>
    <a class="tags-button right">
        <i class="fa fa-search hvr-grow"></i>
    </a>
</header>        <aside class="cover animated" style="background-image: url(index.html)">
    <div class="background-container">
        <div class="profile">
            <header id="aside-header" class="nav-header mobile">
                <a id="aside-close-button" class="open-link right">
                    <i class="fa fa-close"></i>
                </a>
            </header>
            <div class="profile-logo">
                <a id="avatar-link" class="open-link" title="Link to homepage for Brendan&#x27;s Blog" href="../index.html#open">
                    <img src="../content/images/2016/12/logoV3.png" alt="Brendan&#x27;s Blog avatar" class="avatar rounded hvr-buzz-out" />
                </a>
            </div>
            <div class="profile-header">
                <a class="open-link" title="Link to homepage for Brendan&#x27;s Blog" href="../index.html#open">
                    <h1 class="profile-title">Brendan&#x27;s Blog</h1>
                </a>
            </div>
            <div class="profile-body">
                <a class="open-link" title="Link to homepage for Brendan&#x27;s Blog" href="../index.html#open">
                    <h3 id="profile-resume"></h3>
                </a>
                <hr class="divider long" />
                <p>Programming, engineering, and general rambling.</p>
                <hr class="divider short" />
                    <div class="call-to-action-container">
                        <nav class="navigation">
    <ul class="links">
        <li class="nav-blog ">
            <a class="home-link" href="../index.html#open" title="Brendan&#x27;s Blog blog">Home</a>
        </li>
        <li class="nav-main-site ">
            <a href="http://ludusamo.com">Main Site</a>
        </li>
        <li class="nav-resume ">
            <a href="http://ludusamo.com/Resume">Resume</a>
        </li>
        <li class="subscribe-button nav-blog hide ">
            <a class="subscribe-link" href="../index.html#open" title="subscribe">Subscribe</a>
        </li>
    </ul>
</nav>

                    </div>
            </div>
            <ul class="social expanded">

    <!-- Facebook -->
    <li class="social item hvr-grow-rotate">
        <a rel="me" target="_blank" href="https://www.facebook.com/caffeinecoding" title="Caffeine Coding on Facebook">
            <i class='fa fa-facebook-official'></i>
            <span class="label">Facebook</span>
        </a>
    </li>

    <!-- Twitter -->
    <li class="social item hvr-grow-rotate">
        <a rel="me" target="_blank" href="http://twitter.com/kelyvinN" title="@KelyvinN on Twitter">
            <i class='fa fa-twitter'></i>
            <span class="label">Twitter</span>
        </a>
    </li>

    <!-- Linkedin -->
    <li class="social item hvr-grow-rotate">
        <a rel="me" target="_blank" href="http://linkedin.com/in/kelyvin" title="Kelyvin on LinkedIn">
            <i class='fa fa-linkedin-square'></i>
            <span class="label">Linkedin</span>
        </a>
    </li>

    <!-- Github -->
    <li class="social item hvr-grow-rotate">
        <a rel="me" target="_blank" href="https://github.com/kelyvin" title="Kelyvin on Github">
            <i class='fa fa-github'></i>
            <span class="label">Github</span>
        </a>
    </li>

    <!-- RSS -->
    <li class="social item hvr-grow-rotate">
        <a href="../rss/index.html" title="Subscribe to RSS">
            <i class='fa fa-rss'></i>
            <span class="label">RSS</span>
        </a>
    </li>
</ul>
        </div>
    </div>
</aside>

<div class="blog-header">
    <a title="Link to homepage for Brendan&#x27;s Blog" href="../index.html#open">
        <h1 class="profile-title hvr-float">Brendan&#x27;s Blog</h1>
    </a>
    <nav class="navigation">
    <ul class="links">
        <li class="nav-blog ">
            <a class="home-link" href="../index.html#open" title="Brendan&#x27;s Blog blog">Home</a>
        </li>
        <li class="nav-main-site ">
            <a href="http://ludusamo.com">Main Site</a>
        </li>
        <li class="nav-resume ">
            <a href="http://ludusamo.com/Resume">Resume</a>
        </li>
        <li class="subscribe-button nav-blog hide ">
            <a class="subscribe-link" href="../index.html#open" title="subscribe">Subscribe</a>
        </li>
    </ul>
</nav>

</div>        <main class="animated">
            <section class="content">
                

  <article class="post">
    <div class="material-cover" style="background-image: url(index.html)">
    <div class="background-container"></div>
</div>    <div class="post-card animated fade-in">
        <a id="back-button" href="index.html#open" title="Go back" class="hvr-grow">
            <div class="back-button">
                <i class="fa fa-arrow-left"></i>
            </div>
        </a>
        <div class="post-container">
            <div class="post-header">
                <div class="meta">
                    <time datetime="June 02, 2016">7 months ago</time>
                    <span class="tags"></span>
                    <span class="reading-time"> ~ <span></span> read.</span>
                </div>
                <h1 id="post-title">
                    Problem: Message Relay
                </h1>
                <div class="share">
                    <ul class="share-buttons">
    <li class="hvr-grow-rotate">
        <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A2368%2Fproblem-message-relay%2F&t=Problem%3A%20Message%20Relay" target="_blank" title="Share on Facebook">
            <i class="fa fa-facebook-square"></i>
        </a>
    </li>
    <li class="hvr-grow-rotate">
        <a href="https://twitter.com/intent/tweet?source=http%3A%2F%2Flocalhost%3A2368%2Fproblem-message-relay%2F&text=Problem%3A%20Message%20Relay:http%3A%2F%2Flocalhost%3A2368/problem-message-relay/" target="_blank" title="Tweet">
            <i class="fa fa-twitter-square"></i>
        </a>
    </li>
    <li class="hvr-grow-rotate">
        <a href="https://plus.google.com/share?url=http%3A%2F%2Flocalhost%3A2368%2Fproblem-message-relay%2F" target="_blank" title="Share on Google+">
            <i class="fa fa-google-plus-square"></i>
        </a>
    </li>
    <li class="hvr-grow-rotate">
        <a href="http://www.reddit.com/submit?url=http%3A%2F%2Flocalhost%3A2368%2Fproblem-message-relay%2F&title=Problem%3A%20Message%20Relay" target="_blank" title="Submit to Reddit">
            <i class="fa fa-reddit-square"></i>
        </a>
    </li>
    <li class="hvr-grow-rotate">
        <a href="http://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A2368%2Fproblem-message-relay%2F&title=Problem%3A%20Message%20Relay&source=http%3A%2F%2Flocalhost%3A2368%2Fproblem-message-relay%2F" target="_blank" title="Share on LinkedIn">
            <i class="fa fa-linkedin-square"></i>
        </a>
    </li>
</ul>                </div>
            </div>
             <div class="post-content">
                <p>DECEMBER 25, 2014</p>

<h2 id="introduction">Introduction</h2>

<p>This is the one time that I will add an introduction as it is the first time I am doing this. <br />
To help myself improve, I will be solving more USACO problems in hopes that I become good enough to start advancing. This blog will hopefully motivate me to keep practicing problems. I will be doing problems either on the training pages or from past competitions.</p>

<h2 id="problem">Problem</h2>

<p>This is a <a href="http://www.usaco.org/index.php?page=viewproblem2&amp;cpid=241">link</a> to the problem.</p>

<h2 id="solution">Solution</h2>

<p>This problem was fairly straight forward. I could simply just loop through the number of cows and follow their message paths to determine whether it was going to be forced into a loop. If the number of steps taken (number of times message is forwarded) exceeds N, then I would know that the cow was loopy. There are definitely more elegant ways of completing the problem. However, since N can't exceed 1000, and with this solution the worst case is just O(N^2), I could just brute force it like this.</p>

<p>This was my full solution:  </p>

<pre><code>#include &lt;iostream&gt;
#include &lt;fstream&gt;
#include &lt;algorithm&gt;
#include &lt;vector&gt;
#include &lt;utility&gt;

#define pb push_back

// N cows (1 &lt;= N &lt;= 1000)
// Communication with tin cans
// Each cow can forward message to at most 1 cow
// Cow i; F(i) = (cow that i forwards to)
// if F(i) = 0; i cannot forward messages
// cow = loopy if message gets stuck in loop
// want to avoid loopy cows
//
// Objective: Count number of none loopy cows.
//
// Strategy: Vector keeping track of all the cows, who they forward to
//         and if they are loopy or not. 

using namespace std;

typedef vector&lt;int&gt; VI;

int N, output;  
VI cows;

bool checkBranch(int i) {  
    int currentCow = i;
    int numSteps = 0;
    while (numSteps &lt;= N) {
        cout &lt;&lt; i &lt;&lt; " " &lt;&lt; cows[i] &lt;&lt; endl;
        if (cows[i] == -1) return true;
        i = cows[i];
        numSteps++;
    }
    return false;
}

void solve() {  
    for (int i = 0; i &lt; N; i++) {
        cout &lt;&lt; i &lt;&lt; endl;
        if (checkBranch(i)) output++;   
        cout &lt;&lt; endl;
    }       
}

int main() {  
    ifstream fin("relay.in");   
    fin &gt;&gt; N;
    int buffer;
    for (int i = 0; i &lt; N; i++) {
        fin &gt;&gt; buffer;  
        buffer -= 1;
        cows.pb(buffer);
    }
    fin.close();    
    solve();

    ofstream fout("relay.out");
    fout &lt;&lt; output &lt;&lt; endl;
    fout.close();
    return 0;
}
</code></pre>

<ul>
<li>Brendan</li>
</ul>
            </div>
            <footer class="comments">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + window.disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</footer>
        </div>
    </div>
    <div class="post-related pagination">
        <a rel="prev" id="prev-btn" class="btn hvr-grow" href="../merry-christmas/index.html">
            <i class="fa fa-arrow-left"></i>
            <span>Merry Christmas!</span>
        </a>

        <a rel="next" id="next-btn" class="btn hvr-grow" href="../problem-cow-crossings/index.html">
            <span>Problem: Cow Crossings</span>
            <i class="fa fa-arrow-right"></i>
        </a>
    <div class="clear"></div>
</div>  </article>


                <footer>
    <span class="copyright">
        &copy; 2017 Problem: Message Relay. All Rights Reserved. | Built with <a href="https://ghost.org/" target="_blank">Ghost</a> and <a href="https://github.com/kelyvin/caffeine-theme" target="_blank">Caffeine Theme</a>.
    </span>
</footer>
            </section>
        </main>
        <aside class="tags-overlay animated">
    <div class="tags-overlay container">
        <section id="search-container" class="search-container">
    <form id="search-form" class="search-form">
        <input id="search-field" class="search-field" type="text", name="search", placeholder="git, code, javascript,..." />
    </form>
    <hr class="divider short" />
</section>
<section id="search-results" class="search-results"></section>        
<div id="popular-tags" class="tags-container">
    <h2>Popular Tags</h2>
    <div class="tags">
    </div>
</div>    </div>
</aside>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
<script type="text/javascript" src="https://npmcdn.com/imagesloaded@4.1/imagesloaded.pkgd.min.js"></script>
<script type="text/javascript" src="https://npmcdn.com/masonry-layout@4.0/dist/masonry.pkgd.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/scrollreveal.js/3.0.9/scrollreveal.min.js"></script>
        <script src="../assets/js/caffeine-theme.js?v=275669c239" type="text/javascript" charset="utf-8"></script>
        <script>
    if (window.ga_id) {
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', window.ga_id, 'auto');
        ga('require', 'linkid', 'linkid.js');
        ga('send', 'pageview');
    }
</script>
        <script type="text/javascript">
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + window.disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>    </body>
</html>
